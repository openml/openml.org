# =====================================================
# OpenML Next.js Docker Environment Variables
# =====================================================
# Copy this file to .env.docker and fill in your values:
#   cp .env.docker.example .env.docker
#
# Variables prefixed with NEXT_PUBLIC_ are baked into the
# JavaScript bundle at BUILD TIME. To change them, rebuild
# the image (or pass them as --build-arg to docker compose).
# =====================================================

# -----------------------------------------------
# DATABASE (MySQL - required for production)
# -----------------------------------------------
# When MYSQL_HOST is set, the app uses MySQL instead of SQLite
MYSQL_HOST=your-mysql-host.example.com
MYSQL_USER=openml
MYSQL_PASSWORD=your-secure-password
MYSQL_DATABASE=openml
MYSQL_PORT=3306

# -----------------------------------------------
# ELASTICSEARCH (server-side, runtime)
# -----------------------------------------------
ELASTICSEARCH_URL=https://es.openml.org/
ELASTICSEARCH_SERVER=https://www.openml.org/es/
# Optional: Elasticsearch authentication
# ELASTICSEARCH_USERNAME=
# ELASTICSEARCH_PASSWORD=

# -----------------------------------------------
# ELASTICSEARCH (client-side, BUILD TIME)
# -----------------------------------------------
NEXT_PUBLIC_ENABLE_ELASTICSEARCH=true
NEXT_PUBLIC_ELASTICSEARCH_SERVER=https://www.openml.org/es
NEXT_PUBLIC_URL_ELASTICSEARCH=https://www.openml.org/es
NEXT_PUBLIC_ELASTICSEARCH_VERSION_MAYOR=8

# -----------------------------------------------
# API URLS (BUILD TIME)
# -----------------------------------------------
NEXT_PUBLIC_API_URL=https://www.openml.org
NEXT_PUBLIC_URL_API=https://www.openml.org/api/v1
NEXT_PUBLIC_URL_SITE_BACKEND=https://www.openml.org
NEXT_PUBLIC_OPENML_API_URL=https://www.openml.org

# -----------------------------------------------
# MINIO / FILE STORAGE (BUILD TIME)
# -----------------------------------------------
NEXT_PUBLIC_ENABLE_MINIO=true
NEXT_PUBLIC_URL_MINIO=https://www.openml.org/data

# -----------------------------------------------
# AUTHENTICATION (NextAuth.js)
# -----------------------------------------------
# REQUIRED: Generate with: openssl rand -base64 32
NEXTAUTH_SECRET=your-nextauth-secret-here
# REQUIRED: Full URL where the app is deployed
NEXTAUTH_URL=https://your-domain.example.com
# Optional: JWT expiry in seconds (default: 7200 = 2 hours)
# JWT_ACCESS_TOKEN_EXPIRES=7200

# -----------------------------------------------
# OAUTH: GitHub
# -----------------------------------------------
# Get from: https://github.com/settings/developers
GITHUB_ID=your-github-oauth-client-id
GITHUB_SECRET=your-github-oauth-client-secret

# -----------------------------------------------
# OAUTH: Google
# -----------------------------------------------
# Get from: https://console.cloud.google.com/apis/credentials
GOOGLE_ID=your-google-oauth-client-id
GOOGLE_SECRET=your-google-oauth-client-secret

# -----------------------------------------------
# EMAIL / SMTP
# -----------------------------------------------
SMTP_SERVER=smtp.example.com
SMTP_PORT=587
SMTP_LOGIN=your-smtp-username
SMTP_PASS=your-smtp-password
# Server hostname used in confirmation email links
EMAIL_SERVER=your-domain.example.com
EMAIL_SENDER="OpenML" <noreply@openml.org>

# -----------------------------------------------
# WEBAUTHN / PASSKEYS
# -----------------------------------------------
# RP_ID: domain name only (no protocol, no port)
RP_ID=your-domain.example.com
# RP_ORIGIN: full origin URL with protocol
RP_ORIGIN=https://your-domain.example.com

# -----------------------------------------------
# FLASK HYBRID PROXY
# -----------------------------------------------
# URL of the Flask backend for routes not yet migrated:
# password reset, API key regen, likes/votes, /api/v1/*
FLASK_BACKEND_URL=https://www.openml.org

# -----------------------------------------------
# OPTIONAL
# -----------------------------------------------
# GitHub API token (avoids rate limits on /api/contributors)
# GITHUB_TOKEN=ghp_your_token_here
# Flickr API key (meet-us gallery)
# FLICKR_API_KEY=your-flickr-api-key
